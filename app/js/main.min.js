const topSliderItems=document.querySelectorAll(".top-slider__item");function slider(e){const t=document.querySelector(e),a=t.closest('[data-slider="wrapper"]'),o=t.closest('[data-slider="parent-block"]');a.style.transition="left .5s";let s=t.children,l=window.getComputedStyle(s[0]).getPropertyValue("width"),n=(l=parseInt(l.substring(0,l.length-2)),window.getComputedStyle(s[0]).getPropertyValue("margin-right"));n=parseInt(n.substring(0,n.length-2));const i=t.closest('[data-slider="inner"]'),d=o.querySelector('[data-arrow="right"]'),r=o.querySelector('[data-arrow="left"]');let c,m=(o.hasAttribute("data-anim")&&"true"===o.getAttribute("data-anim")&&(c=document.querySelector(".top-slider__btn-box")),1),u,f=1,v=[],g,h,p,b,L,y,w,_=0;if(o.hasAttribute("data-dots")?"true"===o.getAttribute("data-dots")&&(g=!0):g=!1,o.hasAttribute("data-center-mode")){if("true"===o.getAttribute("data-center-mode")){h=!0;for(let e=0;e<document.documentElement.clientWidth/l;e++)_++;u=-(l*_-(document.documentElement.clientWidth-l)/2),t.style.left=-u+(-2*l+(document.documentElement.clientWidth-l)/2)+"px",a.style.left=-(l*_-(document.documentElement.clientWidth-l)/2)+"px"}}else h=!1,u=-l-n,a.style.left=-l-n+"px";if(o.hasAttribute("data-autoplay")&&(y=!0,w=parseFloat(o.getAttribute("data-autoplay"))),g){const A=o.querySelector('[data-slider="dots-box"]');for(let e=0;e<s.length;e++){const q=document.createElement("button");q.classList.add("top-slider__dot"),q.textContent=e+1,q.dataset.id=e+1,v.push(q),A.append(q)}v[0].classList.add("active"),v.forEach(t=>{t.addEventListener("click",()=>{var e=parseInt(t.getAttribute("data-id"));e>f?(p=Math.abs(e-f),E()):e<f&&(b=Math.abs(f-e),S())})})}function x(){if(y&&(c.classList.remove("active"),clearInterval(L),L=null),-1===m&&(m+=s.length),0===(f=m%s.length)&&(f=s.length),h)for(let e=0;e<s.length;e++)s[e].classList.remove("active");setTimeout(()=>{s[(f+s.length-1)%s.length].style.order="1";for(let e=s.length-1;0<e;e--)s[(f+e-1)%s.length].style.order=(e+2).toString();if(h){t.style.left=-u+(-2*l+(document.documentElement.clientWidth-l)/2)+"px";for(let e=0;e<s.length;e++)"4"===s[e].style.order&&s[e].classList.add("active")}else t.style.left=-u-(l+n)+"px";g&&(v.forEach(e=>e.classList.remove("active")),v[f-1].classList.add("active")),0<b&&0<--b&&S(),0<p&&0<--p&&E(),y&&null===L&&(L=setInterval(E,1e3*w),c.classList.add("active"))},500)}function E(){u-=l+n,a.style.left=u+"px",m+=1,x()}function S(){u+=l+n,a.style.left=u+"px",--m,x()}d.addEventListener("click",()=>{E()}),r.addEventListener("click",()=>{S()});let C;i.addEventListener("touchstart",function(){C=0}),i.addEventListener("touchmove",function(e){let t=e.targetTouches[0];0===C&&(C=t.pageX);let a;i.ontouchend=()=>{a=t.pageX,C>a&&E(),C<a&&S()}}),i.onmousedown=e=>{let t=e.pageX,a;i.onmouseup=e=>{a=e.pageX,t>a&&E(),t<a&&S()}},y&&(L=setInterval(E,1e3*w),c.classList.add("active"))}topSliderItems.forEach(e=>e.style.backgroundImage=e.style.backgroundImage+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)");const modalsBtn=[].slice.call(document.querySelectorAll('button[data-modal="modal"]')),modalWindow=document.querySelector(".modal"),modalInner=document.querySelector(".modal__inner"),form=document.querySelector(".modal__form"),modalBg=document.querySelector(".modal__bg"),modalBtnClose=document.querySelector(".btn__modal--close"),modalTitle=document.querySelector(".modal__title"),modalTextarea=document.querySelector(".modal__textarea"),modalCheckbox=document.querySelector(".modal__checkbox"),modalText=document.querySelector(".modal__text "),input1=document.querySelector(".modal__input--1"),input2=document.querySelector(".modal__input--2");function modal(){function e(){input1.value="",input2.value="",modalWindow.classList.remove("active"),input1.classList.remove("invalid"),input2.classList.remove("invalid"),modalTextarea.value=""}form.addEventListener("submit",function(e){e.preventDefault();let t=3;var e=input1.value,a=input2.value;""===a&&(input2.classList.add("invalid"),t--);""===e&&(input1.classList.add("invalid"),t--);modalCheckbox.checked||(modalCheckbox.closest("label").classList.add("invalid"),t--);3<=t&&(form.classList.add("close"),modalInner.classList.add("thanked"),modalBtnClose.classList.add("thanked"),modalTitle.textContent="Дякуюємо!",modalText.textContent="Ваша заявка успішно відправилена")}),modalsBtn.forEach(e=>{e.addEventListener("click",function(){modalWindow.classList.add("active"),form.classList.remove("close"),modalBtnClose.classList.remove("thanked"),modalInner.classList.remove("thanked"),"1"===e.getAttribute("data-modal-num")?(modalTitle.textContent="Хочете отримати подарунок?",modalText.textContent="Заповніть форму,  і ми звяжемося та розповімо про умови акції",modalTextarea.classList.remove("active")):"2"===e.getAttribute("data-modal-num")?(modalTitle.textContent="Поговоримо?",modalText.textContent="Заповніть форму, і ми звяжемося та обговоримо з вами усі деталі",modalTextarea.classList.add("active"),modalTextarea.setAttribute("placeholder","Тема")):"3"===e.getAttribute("data-modal-num")&&(modalTitle.textContent="Хочете стати нашим партнером?",modalText.textContent="Заповніть форму, і ми звяжемося та обговоримо з вами усі деталі",modalTextarea.classList.add("active"),modalTextarea.setAttribute("placeholder","Коротко про себе"))})}),modalBg.addEventListener("click",function(){e()}),modalBtnClose.addEventListener("click",function(){e()}),input1.addEventListener("input",()=>input1.classList.remove("invalid")),input2.addEventListener("input",()=>input2.classList.remove("invalid")),modalCheckbox.addEventListener("change",()=>{modalCheckbox.closest("label").classList.remove("invalid")})}modal();const forms=[].slice.call(document.querySelectorAll('form[data-form="thank"]'));function formThank(){function t(e){e.preventDefault()}forms.forEach(n=>{n.addEventListener("submit",t);const e=n.querySelector('button[type="submit"]');e.addEventListener("click",()=>{const e=[].slice.call(n.querySelectorAll("input"));let t=0;if(e.forEach(e=>{e.addEventListener("input",()=>e.classList.remove("invalid")),""===e.value&&"file"!==e.getAttribute("type")?e.classList.add("invalid"):""===e.value&&"file"===e.getAttribute("type")?(e.closest("label").classList.add("invalid"),e.addEventListener("change",()=>{e.closest("label").classList.remove("invalid")})):"checkbox"===e.getAttribute("type")?e.checked?t++:(e.closest("label").classList.add("invalid"),e.addEventListener("change",()=>{e.closest("label").classList.remove("invalid")})):""!==e.value&&"checkbox"!==e.getAttribute("type")&&t++}),t>=e.length){const a=n.closest('div[data-form="change"]'),o=(a.classList.add("active"),n.closest('div[data-form="parent"]')),s=o.querySelector('div[data-form="thank"]'),l=(s.classList.add("active"),a.classList.remove("resend"),s.classList.remove("resend"),s.querySelector('button[data-form="resend"]'));l.addEventListener("click",()=>{a.classList.remove("active"),a.classList.add("resend"),s.classList.add("resend"),s.classList.remove("active")})}})})}formThank();const benefitsAnimation=document.querySelector(".benefits__anim"),benefitsItems=benefitsAnimation.querySelectorAll(".benefits__item");let cords,itemsHeight=[],itemsCords=[];function benefitsPrev(){cords=getCoords(benefitsAnimation),itemsHeight=[],itemsCords=[],benefitsItems.forEach(e=>{itemsHeight.push(e.offsetHeight)});for(let a=0;a<benefitsItems.length;a++){let t=0;for(let e=0;e<=a;e++)t+=itemsHeight[e];itemsCords.push(t+cords.top)}}function benefits(t){let a;for(let e=0;e<itemsCords.length;e++){if(Math.floor(itemsCords[e]+60)>Math.floor(t.pageY)){a=benefitsItems[e].querySelector(".benefits__img"),benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")}),a.style.transition="height .3s",benefitsItems[e].classList.add("active"),a.classList.add("active");break}Math.floor(itemsCords[e]+120)>Math.floor(t.pageY)&&itemsCords.length-1===e&&(a=benefitsItems[e].querySelector(".benefits__img"),benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")}),benefitsItems[e].classList.add("active"),a.classList.add("active"),a.style.transition="height .05s")}a.style.top=t.pageY-cords.top-120+"px",a.style.left=t.pageX-170+"px"}function getCoords(e){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset}}benefitsPrev(),benefitsAnimation.addEventListener("mousemove",benefits),benefitsAnimation.addEventListener("mouseout",()=>{benefitsItems.forEach(e=>{e.querySelector(".benefits__img").classList.remove("active"),e.classList.remove("active")})});const anchors=[].slice.call(document.querySelectorAll('a[href*="#"]')),animationTime=500,framesCount=120,scrollItems=(anchors.forEach(function(s){s.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(s.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,a=t-window.pageYOffset,o=(console.log("coordY2: "+a),setInterval(function(){var e=Math.abs(a)/framesCount;0<a?e>window.pageYOffset-t&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,t),clearInterval(o)):a<0?e<window.pageYOffset-t?window.scrollBy(0,-e):(window.scrollTo(0,t),clearInterval(o)):a&&clearInterval(o)},animationTime/framesCount))})}),document.querySelectorAll(".animate")),scrollAnimation=()=>{let a=window.innerHeight+window.scrollY;scrollItems.forEach(e=>{var t=getCoords(e).top+e.offsetHeight/2;console.log(t),console.log(a-e.offsetHeight),a-e.offsetHeight>=t&&a-window.innerHeight<t&&e.classList.add("animation-active")})};scrollAnimation(),window.addEventListener("scroll",()=>{scrollAnimation()}),slider(".top-slider__content"),slider(".in-work-slider__content"),slider(".partners-slider__content");