const topSliderItems=document.querySelectorAll(".top-slider__item");function slider(e){const t=document.querySelector(e),o=t.closest('[data-slider="wrapper"]'),l=t.closest('[data-slider="parent-block"]');o.style.transition="all .5s";let n=t.children,s=window.getComputedStyle(n[0]).getPropertyValue("width"),r=(s=parseInt(s.substring(0,s.length-2)),window.getComputedStyle(n[0]).getPropertyValue("margin-right"));r=parseInt(r.substring(0,r.length-2)),o.style.left=-s-r+"px";const a=t.closest('[data-slider="inner"]'),c=l.querySelector('[data-arrow="right"]'),d=l.querySelector('[data-arrow="left"]');let i=1,g=-s-r,u=1,p=[],h;if(h="true"===l.getAttribute("data-dots")?!0:h){const v=l.querySelector('[data-slider="dots-box"]');for(let e=0;e<n.length;e++){const S=document.createElement("button");S.classList.add("top-slider__dot"),S.textContent=e+1,S.dataset.id=e+1,p.push(S),v.append(S)}p[0].classList.add("active"),p.forEach(l=>{l.addEventListener("click",()=>{var e,t=parseInt(l.getAttribute("data-id")),o=u;o<t?(e=Math.abs(t-o),console.log("right"),console.log(e),console.log("cur"+o),y(e)):t<o&&(e=Math.abs(o-t),console.log(e),console.log("cur"+o),console.log("left"),m(e))})})}function f(e=1){console.log(e),-1===i&&(i+=n.length),0===(u=i%n.length)&&(u=n.length),setTimeout(()=>{t.style.left=-g-(s+r)*e+"px",n[(u+n.length-1)%n.length].style.order="1",h&&(p.forEach(e=>e.classList.remove("active")),(0===u?p[p.length-1]:p[u-1]).classList.add("active"));for(let e=n.length-1;0<e;e--)n[(u+e-1)%n.length].style.order=(e+2).toString();console.log("cur"+u)},500)}function y(e=1){g-=(s+r)*e,o.style.left=g+"px",i+=e,f(e)}function m(e=1){g+=(s+r)*e,o.style.left=g+"px",i-=e,f(e)}c.addEventListener("click",()=>{y()}),d.addEventListener("click",()=>{m()});let b;a.addEventListener("touchstart",function(){b=0}),a.addEventListener("touchmove",function(e){let t=e.targetTouches[0];0===b&&(b=t.pageX);let o;console.log(b),a.ontouchend=()=>{o=t.pageX,console.log(o),b>o&&y(),b<o&&m()}}),a.onmousedown=e=>{let t=e.pageX,o;a.onmouseup=e=>{o=e.pageX,t>o&&y(),t<o&&m()}}}topSliderItems.forEach(e=>e.style.backgroundImage=e.style.backgroundImage+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)"),slider(".top-slider__content");