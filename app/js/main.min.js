const topSliderItems=document.querySelectorAll(".top-slider__item");function slider(t){const e=document.querySelector(t),a=e.closest('[data-slider="wrapper"]'),l=e.closest('[data-slider="parent-block"]');a.style.transition="left .5s";let r=e.children,s=(console.log(r),window.getComputedStyle(r[0]).getPropertyValue("width")),o=(s=parseInt(s.substring(0,s.length-2)),window.getComputedStyle(r[0]).getPropertyValue("margin-right"));o=parseInt(o.substring(0,o.length-2)),a.style.left=-s-o+"px";const n=e.closest('[data-slider="inner"]'),d=l.querySelector('[data-arrow="right"]'),i=l.querySelector('[data-arrow="left"]');let c,u=(l.hasAttribute("data-anim")&&"true"===l.getAttribute("data-anim")&&(c=document.querySelector(".top-slider__btn-box")),1),g=-s-o,p=1,h=[],m,y,b,f,v,L;if(m="true"===l.getAttribute("data-dots"),l.hasAttribute("data-autoplay")&&(v=!0,L=parseFloat(l.getAttribute("data-autoplay"))),m){const E=l.querySelector('[data-slider="dots-box"]');for(let t=0;t<r.length;t++){const x=document.createElement("button");x.classList.add("top-slider__dot"),x.textContent=t+1,x.dataset.id=t+1,h.push(x),E.append(x)}h[0].classList.add("active"),h.forEach(e=>{e.addEventListener("click",()=>{var t=parseInt(e.getAttribute("data-id"));t>p?(y=Math.abs(t-p),I()):t<p&&(b=Math.abs(p-t),_())})})}function S(){v&&(c.classList.remove("active"),clearInterval(f),f=null),-1===u&&(u+=r.length),0===(p=u%r.length)&&(p=r.length),setTimeout(()=>{r[(p+r.length-1)%r.length].style.order="1";for(let t=r.length-1;0<t;t--)r[(p+t-1)%r.length].style.order=(t+2).toString();e.style.left=-g-(s+o)+"px",m&&(h.forEach(t=>t.classList.remove("active")),h[p-1].classList.add("active")),console.log("cur"+p),0<b&&0<--b&&_(),0<y&&0<--y&&I(),v&&null===f&&(f=setInterval(I,1e3*L),c.classList.add("active"))},500)}function I(){g-=s+o,a.style.left=g+"px",u+=1,S()}function _(){g+=s+o,a.style.left=g+"px",--u,S()}d.addEventListener("click",()=>{I()}),i.addEventListener("click",()=>{_()});let w;n.addEventListener("touchstart",function(){w=0}),n.addEventListener("touchmove",function(t){let e=t.targetTouches[0];0===w&&(w=e.pageX);let a;console.log(w),n.ontouchend=()=>{a=e.pageX,console.log(a),w>a&&I(),w<a&&_()}}),n.onmousedown=t=>{let e=t.pageX,a;n.onmouseup=t=>{a=t.pageX,e>a&&I(),e<a&&_()}},v&&(f=setInterval(I,1e3*L),c.classList.add("active"))}topSliderItems.forEach(t=>t.style.backgroundImage=t.style.backgroundImage+", linear-gradient(180deg, rgba(0, 0, 0, 0.2) -13.19%, rgba(0, 0, 0, 0.85) 94.01%)"),slider(".top-slider__content"),slider(".partners-slider__content");